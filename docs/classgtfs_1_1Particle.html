<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Transit Network Model: gtfs::Particle Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Transit Network Model
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegtfs.html">gtfs</a></li><li class="navelem"><a class="el" href="classgtfs_1_1Particle.html">Particle</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classgtfs_1_1Particle-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">gtfs::Particle Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="gtfs_8h_source.html">gtfs.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for gtfs::Particle:</div>
<div class="dyncontent">
<div class="center"><img src="classgtfs_1_1Particle__coll__graph.png" border="0" usemap="#gtfs_1_1Particle_coll__map" alt="Collaboration graph"/></div>
<map name="gtfs_1_1Particle_coll__map" id="gtfs_1_1Particle_coll__map">
<area shape="rect" id="node2" href="classgtfs_1_1Vehicle.html" title="gtfs::Vehicle" alt="" coords="6,5,101,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad7f42e77c6c7f3042c977fd5a42ff82f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgtfs_1_1Particle.html#ad7f42e77c6c7f3042c977fd5a42ff82f">Particle</a> (<a class="el" href="classgtfs_1_1Vehicle.html">Vehicle</a> *v)</td></tr>
<tr class="separator:ad7f42e77c6c7f3042c977fd5a42ff82f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac386e64b43b1e317063f9a6666d604ce"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgtfs_1_1Particle.html#ac386e64b43b1e317063f9a6666d604ce">Particle</a> (const <a class="el" href="classgtfs_1_1Particle.html">Particle</a> &amp;p)</td></tr>
<tr class="separator:ac386e64b43b1e317063f9a6666d604ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3accf3496ad8460b4ad8b3f6da2de411"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgtfs_1_1Particle.html#a3accf3496ad8460b4ad8b3f6da2de411">~Particle</a> ()</td></tr>
<tr class="separator:a3accf3496ad8460b4ad8b3f6da2de411"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3131eb93ac902a4cccf42061e1a7296b"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgtfs_1_1Particle.html#a3131eb93ac902a4cccf42061e1a7296b">get_id</a> () const</td></tr>
<tr class="separator:a3131eb93ac902a4cccf42061e1a7296b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9372dbbfe702b9931b9eb1ee217afcba"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgtfs_1_1Particle.html#a9372dbbfe702b9931b9eb1ee217afcba">get_parent_id</a> () const</td></tr>
<tr class="separator:a9372dbbfe702b9931b9eb1ee217afcba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ec3ee5a83e778069946242a6d7731b6"><td class="memItemLeft" align="right" valign="top">const double &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgtfs_1_1Particle.html#a0ec3ee5a83e778069946242a6d7731b6">get_distance</a> () const</td></tr>
<tr class="separator:a0ec3ee5a83e778069946242a6d7731b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b59c859c3445b97c6da6c0b9081b1e4"><td class="memItemLeft" align="right" valign="top">const double &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgtfs_1_1Particle.html#a3b59c859c3445b97c6da6c0b9081b1e4">get_velocity</a> () const</td></tr>
<tr class="separator:a3b59c859c3445b97c6da6c0b9081b1e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aade709387b5d7f0c0764ede8cfd88f0e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgtfs_1_1Particle.html#aade709387b5d7f0c0764ede8cfd88f0e">is_finished</a> () const</td></tr>
<tr class="separator:aade709387b5d7f0c0764ede8cfd88f0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a322a6111d18ae304c0b22f000461076a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgtfs_1_1Particle.html#a322a6111d18ae304c0b22f000461076a">get_stop_index</a> () const</td></tr>
<tr class="separator:a322a6111d18ae304c0b22f000461076a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a783d1a0a614dc2c3f18cf269f69ede3d"><td class="memItemLeft" align="right" valign="top">const uint64_t &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgtfs_1_1Particle.html#a783d1a0a614dc2c3f18cf269f69ede3d">get_arrival_time</a> () const</td></tr>
<tr class="separator:a783d1a0a614dc2c3f18cf269f69ede3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaea44cde86b5b026c94800c6d837f174"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgtfs_1_1Particle.html#aaea44cde86b5b026c94800c6d837f174">get_dwell_time</a> () const</td></tr>
<tr class="separator:aaea44cde86b5b026c94800c6d837f174"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad21b0ddaacd73940d4e987426b1fed0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgtfs_1_1Particle.html#aad21b0ddaacd73940d4e987426b1fed0">get_segment_index</a> () const</td></tr>
<tr class="separator:aad21b0ddaacd73940d4e987426b1fed0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63bd83f650af8855f014e6e5f86a123a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgtfs_1_1Particle.html#a63bd83f650af8855f014e6e5f86a123a">get_queue_time</a> () const</td></tr>
<tr class="separator:a63bd83f650af8855f014e6e5f86a123a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4c8fd3566b0178c95daf6a0cba0040e"><td class="memItemLeft" align="right" valign="top">const uint64_t &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgtfs_1_1Particle.html#ac4c8fd3566b0178c95daf6a0cba0040e">get_begin_time</a> () const</td></tr>
<tr class="separator:ac4c8fd3566b0178c95daf6a0cba0040e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2029ee7ae66a92a8a2f08e4290daa73"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgtfs_1_1Particle.html#ae2029ee7ae66a92a8a2f08e4290daa73">get_delta_t</a> () const</td></tr>
<tr class="separator:ae2029ee7ae66a92a8a2f08e4290daa73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e1a6de0b7d0fd6938ef3f7f9e5d4b99"><td class="memItemLeft" align="right" valign="top">const double &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgtfs_1_1Particle.html#a2e1a6de0b7d0fd6938ef3f7f9e5d4b99">get_likelihood</a> () const</td></tr>
<tr class="separator:a2e1a6de0b7d0fd6938ef3f7f9e5d4b99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1271a051a4040edc4ec47a188d75ad0"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; uint64_t &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgtfs_1_1Particle.html#ad1271a051a4040edc4ec47a188d75ad0">get_etas</a> (void) const</td></tr>
<tr class="separator:ad1271a051a4040edc4ec47a188d75ad0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aded5954299e6184a664973036f8ba804"><td class="memItemLeft" align="right" valign="top">const uint64_t &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgtfs_1_1Particle.html#aded5954299e6184a664973036f8ba804">get_eta</a> (int i) const</td></tr>
<tr class="separator:aded5954299e6184a664973036f8ba804"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b1e356f32d4557d06c9ed59467a5b27"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgtfs_1_1Particle.html#a4b1e356f32d4557d06c9ed59467a5b27">initialize</a> (<a class="el" href="classsampling_1_1uniform.html">sampling::uniform</a> &amp;unif, <a class="el" href="classsampling_1_1uniform.html">sampling::uniform</a> &amp;speed, <a class="el" href="classsampling_1_1RNG.html">sampling::RNG</a> &amp;rng)</td></tr>
<tr class="separator:a4b1e356f32d4557d06c9ed59467a5b27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18aeb1ccbc395210f80c18f9d0a0095c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgtfs_1_1Particle.html#a18aeb1ccbc395210f80c18f9d0a0095c">transition</a> (<a class="el" href="classsampling_1_1RNG.html">sampling::RNG</a> &amp;rng)</td></tr>
<tr class="separator:a18aeb1ccbc395210f80c18f9d0a0095c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e964d5aa4698335de3c75938e55f5cd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgtfs_1_1Particle.html#a5e964d5aa4698335de3c75938e55f5cd">transition_phase1</a> (<a class="el" href="classsampling_1_1RNG.html">sampling::RNG</a> &amp;rng)</td></tr>
<tr class="separator:a5e964d5aa4698335de3c75938e55f5cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9374830814c89b2d5c0af705bda8849"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgtfs_1_1Particle.html#ad9374830814c89b2d5c0af705bda8849">transition_phase2</a> (<a class="el" href="classsampling_1_1RNG.html">sampling::RNG</a> &amp;rng)</td></tr>
<tr class="separator:ad9374830814c89b2d5c0af705bda8849"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68043b2380d8f530d648dd99e5a85101"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgtfs_1_1Particle.html#a68043b2380d8f530d648dd99e5a85101">transition_phase3</a> (<a class="el" href="classsampling_1_1RNG.html">sampling::RNG</a> &amp;rng)</td></tr>
<tr class="separator:a68043b2380d8f530d648dd99e5a85101"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88627efbe0eb2e289315ae82627d3a39"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgtfs_1_1Particle.html#a88627efbe0eb2e289315ae82627d3a39">calculate_likelihood</a> (void)</td></tr>
<tr class="separator:a88627efbe0eb2e289315ae82627d3a39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa71d322362f6eb431f70f78cdc8887a8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgtfs_1_1Particle.html#aa71d322362f6eb431f70f78cdc8887a8">calculate_etas</a> (void)</td></tr>
<tr class="separator:aa71d322362f6eb431f70f78cdc8887a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a81c313d505ecb592d79463f167dfb76c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgtfs_1_1Vehicle.html">Vehicle</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgtfs_1_1Particle.html#a81c313d505ecb592d79463f167dfb76c">vehicle</a></td></tr>
<tr class="separator:a81c313d505ecb592d79463f167dfb76c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classgtfs_1_1Particle.html">Particle</a> class</p>
<p>A single "point estimate" of the unknown state of the transit vehicle, including its velocity. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad7f42e77c6c7f3042c977fd5a42ff82f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7f42e77c6c7f3042c977fd5a42ff82f">&#9670;&nbsp;</a></span>Particle() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gtfs::Particle::Particle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgtfs_1_1Vehicle.html">Vehicle</a> *&#160;</td>
          <td class="paramname"><em>v</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="classgtfs_1_1Particle.html">Particle</a> constructor.</p>
<p>The ID is automatically selected from the parent vehicle. Values are computed based on the approximate location of the bus, allowing for noise. RNG required otherwise the particles would all be identical!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>the vehicle object pointer to which the particle belongs </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac386e64b43b1e317063f9a6666d604ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac386e64b43b1e317063f9a6666d604ce">&#9670;&nbsp;</a></span>Particle() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gtfs::Particle::Particle </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classgtfs_1_1Particle.html">Particle</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="classgtfs_1_1Particle.html">Particle</a> copy constructor.</p>
<p>Makes an almost exact copy of the referenced particle, but gives it a unique ID and sets the parent_id appropriately.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>the parent particle to be copied </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3accf3496ad8460b4ad8b3f6da2de411"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3accf3496ad8460b4ad8b3f6da2de411">&#9670;&nbsp;</a></span>~Particle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gtfs::Particle::~Particle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destructor for a particle. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aa71d322362f6eb431f70f78cdc8887a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa71d322362f6eb431f70f78cdc8887a8">&#9670;&nbsp;</a></span>calculate_etas()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gtfs::Particle::calculate_etas </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculate the expected time until arrival (ETA) for each future stop along the route. </p>

</div>
</div>
<a id="a88627efbe0eb2e289315ae82627d3a39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88627efbe0eb2e289315ae82627d3a39">&#9670;&nbsp;</a></span>calculate_likelihood()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gtfs::Particle::calculate_likelihood </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute the likelihood of the particle given the bus's reported location and stop updates. </p>

</div>
</div>
<a id="a783d1a0a614dc2c3f18cf269f69ede3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a783d1a0a614dc2c3f18cf269f69ede3d">&#9670;&nbsp;</a></span>get_arrival_time()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint64_t&amp; gtfs::Particle::get_arrival_time </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the particle's arrival time at stop <code>stop_index</code> </dd></dl>

</div>
</div>
<a id="ac4c8fd3566b0178c95daf6a0cba0040e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4c8fd3566b0178c95daf6a0cba0040e">&#9670;&nbsp;</a></span>get_begin_time()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint64_t&amp; gtfs::Particle::get_begin_time </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the particle's begin time at segment <code>segment_index</code> </dd></dl>

</div>
</div>
<a id="ae2029ee7ae66a92a8a2f08e4290daa73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2029ee7ae66a92a8a2f08e4290daa73">&#9670;&nbsp;</a></span>get_delta_t()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int gtfs::Particle::get_delta_t </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the particle's remaining travel time </dd></dl>

</div>
</div>
<a id="a0ec3ee5a83e778069946242a6d7731b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ec3ee5a83e778069946242a6d7731b6">&#9670;&nbsp;</a></span>get_distance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const double&amp; gtfs::Particle::get_distance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the particle's distance into trip </dd></dl>

</div>
</div>
<a id="aaea44cde86b5b026c94800c6d837f174"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaea44cde86b5b026c94800c6d837f174">&#9670;&nbsp;</a></span>get_dwell_time()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int gtfs::Particle::get_dwell_time </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the particle's dwell time at stop <code>stop_index</code> </dd></dl>

</div>
</div>
<a id="aded5954299e6184a664973036f8ba804"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aded5954299e6184a664973036f8ba804">&#9670;&nbsp;</a></span>get_eta()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint64_t&amp; gtfs::Particle::get_eta </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>ETA for stop <code>i</code> </dd></dl>

</div>
</div>
<a id="ad1271a051a4040edc4ec47a188d75ad0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1271a051a4040edc4ec47a188d75ad0">&#9670;&nbsp;</a></span>get_etas()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt;uint64_t&gt;&amp; gtfs::Particle::get_etas </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>ETAs for all future stops </dd></dl>

</div>
</div>
<a id="a3131eb93ac902a4cccf42061e1a7296b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3131eb93ac902a4cccf42061e1a7296b">&#9670;&nbsp;</a></span>get_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long gtfs::Particle::get_id </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the particle's ID </dd></dl>

</div>
</div>
<a id="a2e1a6de0b7d0fd6938ef3f7f9e5d4b99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e1a6de0b7d0fd6938ef3f7f9e5d4b99">&#9670;&nbsp;</a></span>get_likelihood()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const double&amp; gtfs::Particle::get_likelihood </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the particle's likelihood </dd></dl>

</div>
</div>
<a id="a9372dbbfe702b9931b9eb1ee217afcba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9372dbbfe702b9931b9eb1ee217afcba">&#9670;&nbsp;</a></span>get_parent_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long gtfs::Particle::get_parent_id </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the parent particle's ID </dd></dl>

</div>
</div>
<a id="a63bd83f650af8855f014e6e5f86a123a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63bd83f650af8855f014e6e5f86a123a">&#9670;&nbsp;</a></span>get_queue_time()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int gtfs::Particle::get_queue_time </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the particle's queue time at segment <code>segment_index</code> </dd></dl>

</div>
</div>
<a id="aad21b0ddaacd73940d4e987426b1fed0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad21b0ddaacd73940d4e987426b1fed0">&#9670;&nbsp;</a></span>get_segment_index()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int gtfs::Particle::get_segment_index </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the particle's segment index </dd></dl>

</div>
</div>
<a id="a322a6111d18ae304c0b22f000461076a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a322a6111d18ae304c0b22f000461076a">&#9670;&nbsp;</a></span>get_stop_index()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int gtfs::Particle::get_stop_index </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the particle's stop index </dd></dl>

</div>
</div>
<a id="a3b59c859c3445b97c6da6c0b9081b1e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b59c859c3445b97c6da6c0b9081b1e4">&#9670;&nbsp;</a></span>get_velocity()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const double&amp; gtfs::Particle::get_velocity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the particle's velocity </dd></dl>

</div>
</div>
<a id="a4b1e356f32d4557d06c9ed59467a5b27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b1e356f32d4557d06c9ed59467a5b27">&#9670;&nbsp;</a></span>initialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gtfs::Particle::initialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsampling_1_1uniform.html">sampling::uniform</a> &amp;&#160;</td>
          <td class="paramname"><em>dist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsampling_1_1uniform.html">sampling::uniform</a> &amp;&#160;</td>
          <td class="paramname"><em>speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsampling_1_1RNG.html">sampling::RNG</a> &amp;&#160;</td>
          <td class="paramname"><em>rng</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize particle with distance etc. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dist</td><td>a uniform number generator for the particle's distance into trip </td></tr>
    <tr><td class="paramname">speed</td><td>a uniform number generator for the particle's velocity </td></tr>
    <tr><td class="paramname">rng</td><td>a random number generator </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aade709387b5d7f0c0764ede8cfd88f0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aade709387b5d7f0c0764ede8cfd88f0e">&#9670;&nbsp;</a></span>is_finished()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool gtfs::Particle::is_finished </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>true if the particle is at end of route; false otherwise </dd></dl>

</div>
</div>
<a id="a18aeb1ccbc395210f80c18f9d0a0095c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18aeb1ccbc395210f80c18f9d0a0095c">&#9670;&nbsp;</a></span>transition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gtfs::Particle::transition </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsampling_1_1RNG.html">sampling::RNG</a> &amp;&#160;</td>
          <td class="paramname"><em>rng</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Move the particle according to speed, shape/segments/stops, and <code>delta</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rng</td><td>a random number generator </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5e964d5aa4698335de3c75938e55f5cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e964d5aa4698335de3c75938e55f5cd">&#9670;&nbsp;</a></span>transition_phase1()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gtfs::Particle::transition_phase1 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsampling_1_1RNG.html">sampling::RNG</a> &amp;&#160;</td>
          <td class="paramname"><em>rng</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Phase 1 of the particle's transition, involving determining initial wait conditions.</p>
<p>If the bus is at a stop, ensure it waits long enough. Similarly for intersections, queue longer if needed. Otherwise, there's no wait time.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rng</td><td>reference to the random number generator </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad9374830814c89b2d5c0af705bda8849"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9374830814c89b2d5c0af705bda8849">&#9670;&nbsp;</a></span>transition_phase2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gtfs::Particle::transition_phase2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsampling_1_1RNG.html">sampling::RNG</a> &amp;&#160;</td>
          <td class="paramname"><em>rng</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Phase 2 of the particle's transition, involving adding random system noise.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rng</td><td>reference to the random number generator </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a68043b2380d8f530d648dd99e5a85101"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68043b2380d8f530d648dd99e5a85101">&#9670;&nbsp;</a></span>transition_phase3()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gtfs::Particle::transition_phase3 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsampling_1_1RNG.html">sampling::RNG</a> &amp;&#160;</td>
          <td class="paramname"><em>rng</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Phase 3 of the particle's transition, involving movement until time's up.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rng</td><td>[description] </td></tr>
  </table>
  </dd>
</dl>
<h1>NOTES</h1>
<p>STOPS are use 1-based indexing to match the <a class="el" href="classgtfs_1_1GTFS.html">GTFS</a> feed Therefore, the FIRST stop is stop_index = 1, which is stops[0]. Therefore, the ith stop is stop_index = i, which is stops[i-1]. To make things more complicated, the (i+1)th stop is stop+index = i+1, which is stops[i]!!!</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a81c313d505ecb592d79463f167dfb76c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81c313d505ecb592d79463f167dfb76c">&#9670;&nbsp;</a></span>vehicle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgtfs_1_1Vehicle.html">Vehicle</a>* gtfs::Particle::vehicle</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>pointer to the vehicle that owns this particle </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>gtfs/<a class="el" href="gtfs_8h_source.html">gtfs.h</a></li>
<li>gtfs/Particle.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
